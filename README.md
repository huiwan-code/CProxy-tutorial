# C++高性能网络服务保姆级教程

## 为什么写这个教程？
最近在学C++，翻了几次菜鸟教程后，想写个项目练练手。之前了解过[ngrok](https://github.com/inconshreveable/ngrok.git)，一个内网穿透工具，简单讲就是在内网中部署自己的服务，通过这个工具，可以让公网上的用户访问到服务。

之前看了部分源码，想把自己的一些优化想法用C++实现一下，所以断断续续花了2个多月写了C++版本的[CProxy](https://github.com/lzs123/CProxy.git)。

写的过程中不断充实C++的相关知识（不得不说C++的特性是真的多。。。），同时也对网络底层有了更深的了解，比如一个连接如何复用？如何处理数据传输的逻辑？如何处理链接的断开？

写下这个教程有以下两个目的：
* 复盘整个项目有没有可以优化的地方。
* 巩固[CProxy](https://github.com/lzs123/CProxy.git)实现过程中学到的知识。
* 达到自己年头给自己定的写一个系列文章的flag。

## 教程适用哪些读者？

我希望的是有一点C++基础和网路基础的读者就能看懂学到一些东西。当然肯定有些地方可能会写的不清楚，读者可以留言谈论，有空一定回复，并完善文章。

整个项目会涉及到IO多路复用、多线程Reactor模型、零拷贝、网络底层数据传输处理等方面，我会在对应章节上附上自己之前参考的文章，帮助读者理解。

## 教程食用姿势

有能力的大佬可以先看看[CProxy](https://github.com/lzs123/CProxy.git)的代码，自认能力一般，水平有限，如果发现有bug或者有更好的实现欢迎提issue或PR。



教程暂定有以下内容：
1. 一切从最简单的socket说起，介绍一次socket连接的过程
2. 聊聊代码编译和格式化，主要介绍cmake、clang、clang-format的使用和注意事项，并结合到项目中使用
3. IO多路复用和Reactor多线程模型
4. 内网的业务服务被外网访问的整个数据流
5. 使用splice零拷贝减少数据复制
6. 连接管理：如何复用、维护、优雅断开


![](https://cdn.jsdelivr.net/gh/lzs123/mdnice_picture/2021-5-23/1621731683200-image.png)








